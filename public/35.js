(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{137:function(t,e,i){var a=i(138);"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(8)(a,n);a.locals&&(t.exports=a.locals)},138:function(t,e,i){(t.exports=i(7)(!1)).push([t.i,".v-snack{align-items:center;color:#fff;display:flex;font-size:.875rem;left:8px;pointer-events:none;position:fixed;right:8px;transition-duration:.15s;transition-timing-function:cubic-bezier(0,0,.2,1);z-index:1000}.v-application--is-ltr .v-snack{text-align:left}.v-application--is-rtl .v-snack{text-align:right}.v-snack--absolute{position:absolute}.v-snack--top{top:8px}.v-snack--bottom{bottom:8px}.v-snack__wrapper{align-items:center;background-color:#323232;border-radius:4px;display:flex;margin:0 auto;pointer-events:auto;transition:inherit;transition-property:opacity,transform;min-width:100%;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.v-snack__content{align-items:center;display:flex;min-height:48px;justify-content:space-between;overflow:hidden;padding:8px 16px;width:100%}.v-snack__content .v-btn{flex:0 0 auto;height:auto;min-width:auto;padding:8px;width:auto}.v-snack__content .v-btn--icon,.v-snack__content .v-btn--outlined,.v-snack__content .v-btn--text{color:#fff}.v-application--is-ltr .v-snack__content .v-btn{margin:0 -8px 0 24px}.v-application--is-rtl .v-snack__content .v-btn{margin:0 24px 0 -8px}.v-snack__content .v-btn__content{margin:-2px}.v-snack--multi-line .v-snack__content{height:auto;min-height:68px}.v-snack--vertical .v-snack__content{align-items:stretch;flex-direction:column;height:auto;padding:16px 16px 8px}.v-snack--vertical .v-snack__content .v-btn.v-btn{align-self:flex-end;justify-self:flex-end;margin-top:18px}.v-application--is-ltr .v-snack--vertical .v-snack__content .v-btn.v-btn{margin-left:0}.v-application--is-rtl .v-snack--vertical .v-snack__content .v-btn.v-btn{margin-right:0}.v-snack--vertical .v-snack__content .v-btn__content{flex:0 0 auto;margin:0}@media only screen and (min-width:600px){.v-snack__wrapper{min-width:344px;max-width:672px}.v-snack--left .v-snack__wrapper{margin-left:0}.v-snack--right .v-snack__wrapper{margin-right:0}.v-application--is-ltr .v-snack__content .v-btn:first-of-type{margin-left:42px}.v-application--is-rtl .v-snack__content .v-btn:first-of-type{margin-right:42px}}.v-snack-transition-enter .v-snack__wrapper{transform:scale(.8)}.v-snack-transition-enter .v-snack__wrapper,.v-snack-transition-leave-to .v-snack__wrapper{opacity:0}",""])},140:function(t,e,i){var a=i(141);"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(8)(a,n);a.locals&&(t.exports=a.locals)},141:function(t,e,i){(t.exports=i(7)(!1)).push([t.i,".theme--light.v-small-dialog__actions,.theme--light.v-small-dialog__menu-content{background:#fff}.theme--dark.v-small-dialog__actions,.theme--dark.v-small-dialog__menu-content{background:#1e1e1e}.v-small-dialog{display:block}.v-small-dialog__activator{cursor:pointer}.v-small-dialog__activator__content{display:inline-block}.v-small-dialog__content{padding:0 16px}.v-small-dialog__actions{padding:8px;text-align:right;white-space:pre}",""])},324:function(t,e,i){"use strict";var a=i(2),n=i(37),s=i(46);e.a=Object(a.a)(n.a,Object(s.b)("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0}),i={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",a=>{a&&(this.errorBag.hasOwnProperty(t._uid)||(i.valid=e(t)))}):i.valid=e(t),i},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const i=this.watchers.find(t=>t._uid===e._uid);i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},325:function(t,e,i){"use strict";i(137);var a=i(12),n=i(19),s=i(38),o=i(2),r=i(10);e.a=Object(o.a)(a.a,n.a,Object(s.b)(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive(){this.setTimeout()}},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(r.d)("auto-height",this)},mounted(){this.setTimeout()},methods:{setTimeout(){window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},this.timeout))}},render(t){return t("transition",{attrs:{name:"v-snack-transition"}},[this.isActive&&t("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[t("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper",attrs:{role:"alert"}}),[t("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}})},326:function(t,e,i){"use strict";i(140);var a=i(54),n=i(9),s=i(0),o=i(14),r=i(55),c=i(2);e.a=Object(c.a)(a.a,n.a).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:()=>({isActive:!1}),watch:{isActive(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel(){this.isActive=!1,this.$emit("cancel")},focus(){const t=this.$refs.content.querySelector("input");t&&t.focus()},genButton(t,e){return this.$createElement(o.a,{props:{text:!0,color:"primary",light:!0},on:{click:t}},e)},genActions(){return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton(()=>{this.save(this.returnValue),this.$emit("save")},this.saveText)])},genContent(){return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:t=>{const e=this.$refs.content.querySelector("input");t.keyCode===s.v.esc&&this.cancel(),t.keyCode===s.v.enter&&e&&(this.save(e.value),this.$emit("save"))}},ref:"content"},[this.$slots.input])}},render(t){return t(r.a,{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:t=>this.isActive=t},scopedSlots:{activator:({on:e})=>t("div",{staticClass:"v-small-dialog__activator",on:e},[t("span",{staticClass:"v-small-dialog__activator__content"},this.$slots.default)])}},[this.genContent(),this.large?this.genActions():null])}})},361:function(t,e,i){"use strict";i.r(e);var a={layout:"admin",middleware:["auth","admin"],data:function(){return{valid:!0,dialog:!1,loading:!1,snackbar:!1,text:"",success:"",error:"",options:{sortBy:["name"],sortDesc:[!0]},rules:{required:function(t){return!!t||"This Field is Required"},min:function(t){return t.length>=5||"Minimum 5 Chracters Required"},validEmail:function(t){return/.+@.+\..+/.test(t)||"Email must be valid"}},headers:[{text:"#",value:"id"},{text:"SKU",value:"sku"},{text:"Name",value:"name"},{text:"Category",value:"category"},{text:"Brand",value:"brand_name"},{text:"Enable Stock",value:"stock"},{text:"Alert Qty",value:"alert_quantity"},{text:"Price",value:"selling_price"},{text:"Color",value:"color"},{text:"Active",value:"active"},{text:"Actions",value:"action",sortable:!1}],status:[{text:"Active",value:!0},{text:"In Active",value:!1}],types:["product","service provider"],products:[],categories:[],brands:[],units:[],slabs:[],editedIndex:-1,editedItem:{id:"",sku:"",urdusku:"",name:"",category_id:"",brand_id:"",brand:{},enable_stock:!1,alert_quantity:"",selling_price:"",color:"",is_active:!0,qty_on_hand:"",purchase_price:""},defaultItem:{id:"",sku:"",urdusku:"",name:"",category_id:"",brand_id:"",brand:"",enable_stock:!1,alert_quantity:"",selling_price:"",color:"",is_active:!0,qty_on_hand:"",purchase_price:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()},editedItem:{handler:"getSku",deep:!0}},created:function(){var t=this;this.initialize(),axios.get("/api/categories/all").then((function(e){t.categories=e.data.data})),axios.get("/api/units/all").then((function(e){t.units=e.data.data})),axios.get("/api/brands/all").then((function(e){t.brands=e.data.data})),axios.get("/api/slabs/all").then((function(e){t.slabs=e.data.data}))},methods:{updateStatus:function(t){var e=this,i=this.products.data.indexOf(t);axios.post("/api/change-status",{status:t.is_active,product:t.id}).then((function(t){e.text=t.data.product.name+"'s Status Updated to "+t.data.product.is_active,e.snackbar=!0})).catch((function(t){e.products.data[i].is_active=t.response.data.product.is_active,e.snackbar=!0,console.dir(t.response)}))},getItemText:function(t){console.log(t)},getSku:function(){var t=this.editedItem.brand.name?this.editedItem.brand.name.slice(0,2):"",e=this.editedItem.name?this.editedItem.name:"",i=this.editedItem.color?this.editedItem.color.slice(0,3):"";this.editedItem.sku=(t+" "+e+" "+i).toUpperCase(),this.editedItem.brand_id=this.editedItem.brand.id},searchIt:function(t){var e=this;if(t.length>3&&axios.get("/api/products/".concat(t)).then((function(t){return e.products=t.data.products})).catch((function(t){return console.dir(t.response)})),t.length<=0){var i=0==this.options.sortBy.length?"name":this.options.sortBy[0],a=this.options.sortDesc.length>0||this.options.sortDesc[0]?"asc":"desc";axios.get("/api/products?page=".concat(t.page),{params:{per_page:t.itemsPerPage,sort_by:i,order_by:a}}).then((function(t){e.products=t.data.products})).catch((function(t){return console.dir(t.response)}))}},paginate:function(t){var e=this,i=0==this.options.sortBy.length?"name":this.options.sortBy[0],a=this.options.sortDesc.length>0||this.options.sortDesc[0]?"asc":"desc";axios.get("/api/products?page=".concat(t.page),{params:{per_page:t.itemsPerPage,sort_by:i,order_by:a}}).then((function(t){e.products=t.data.products})).catch((function(t){}))},initialize:function(){var t=this;axios.interceptors.request.use((function(e){return t.loading=!0,e}),(function(e){return t.loading=!1,Promise.reject(e)})),axios.interceptors.response.use((function(e){return t.loading=!1,e}),(function(e){return t.loading=!1,Promise.reject(e)}))},editItem:function(t){this.editedIndex=this.products.data.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this,i=this.products.data.indexOf(t);confirm("Are you sure you want to delete this item?")&&axios.delete("/api/products/"+t.id).then((function(t){e.snackbar=!0,e.products.data.splice(i,1)})).catch((function(t){console.log(t.response),e.text="Error Deleting Record",e.snackbar=!0}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(){var t=this;if(this.editedIndex>-1){var e=this.editedIndex;axios.put("/api/products/"+this.editedItem.id,this.editedItem).then((function(i){console.log(i),t.text="Record Updated Successfully!",t.snackbar=!0,Object.assign(t.products.data[e],i.data.product)})).catch((function(e){console.log(e.response),t.text="Error Updating Record",t.snackbar=!0}))}else axios.post("/api/products",this.editedItem).then((function(e){t.text="Record Added Successfully!",t.snackbar=!0,console.dir(t.editedItem),t.products.data.push(e.data.product)})).catch((function(e){console.dir(e),console.dir(t.editedItem),t.text="Error Inserting Record",t.snackbar=!0}));this.close()},getColor:function(t){return 0==t?"red":"green"}}},n=i(4),s=i(5),o=i.n(s),r=i(72),c=i(86),l=i(1),d=i(336),u=i(91),v=i(322),p=i(384),m=i(341),h=i(327),_=i(88),g=i(326),f=i(324),b=i(67),x=i(323),k=i(26),y=i(325),I=i(383),w=i(45),C=i(36),$=i(15),V=Object(n.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.products.data,"items-per-page":5,"item-key":"id",loading:t.loading,options:t.options,"server-items-length":t.products.total,"loading-text":"Loading.. Please Wait!","footer-props":{itemsPerPageOptions:[5,10,15],"show-current-page":!0,"show-first-last-page":!0}},on:{pagination:t.paginate,"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:"",color:""}},[i("v-toolbar-title",{staticClass:"text-primary"},[t._v("product Management")]),t._v(" "),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),i("v-spacer"),t._v(" "),i("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},a),[t._v("New product")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),i("v-form",{attrs:{method:"post"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.save(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",md:"6",lg:"6"}},[i("v-text-field",{attrs:{label:"SKU",rules:[t.rules.required]},model:{value:t.editedItem.sku,callback:function(e){t.$set(t.editedItem,"sku",e)},expression:"editedItem.sku"}}),t._v(" "),i("v-text-field",{attrs:{label:"URDU SKU",rules:[t.rules.required]},model:{value:t.editedItem.urdusku,callback:function(e){t.$set(t.editedItem,"urdusku",e)},expression:"editedItem.urdusku"}}),t._v(" "),i("v-select",{attrs:{items:t.categories,"item-text":"name","item-value":"id",label:"Category",rules:[t.rules.required]},model:{value:t.editedItem.category_id,callback:function(e){t.$set(t.editedItem,"category_id",e)},expression:"editedItem.category_id"}}),t._v(" "),i("v-select",{attrs:{items:t.brands,"item-text":"name","item-value":"id",label:"Brand",rules:[t.rules.required],"return-object":""},model:{value:t.editedItem.brand,callback:function(e){t.$set(t.editedItem,"brand",e)},expression:"editedItem.brand"}}),t._v(" "),i("v-text-field",{attrs:{label:"Name",rules:[t.rules.required]},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}}),t._v(" "),i("v-text-field",{attrs:{label:"Color"},model:{value:t.editedItem.color,callback:function(e){t.$set(t.editedItem,"color",e)},expression:"editedItem.color"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",md:"6",lg:"6"}},[i("v-select",{attrs:{items:t.units,"item-text":"short_name","item-value":"id",label:"Unit",rules:[t.rules.required]},model:{value:t.editedItem.unit_id,callback:function(e){t.$set(t.editedItem,"unit_id",e)},expression:"editedItem.unit_id"}}),t._v(" "),i("v-text-field",{attrs:{type:"number",label:"Selling Price"},model:{value:t.editedItem.selling_price,callback:function(e){t.$set(t.editedItem,"selling_price",e)},expression:"editedItem.selling_price"}}),t._v(" "),i("v-checkbox",{attrs:{label:"Enable Stock"},model:{value:t.editedItem.enable_stock,callback:function(e){t.$set(t.editedItem,"enable_stock",e)},expression:"editedItem.enable_stock"}}),t._v(" "),t.editedItem.enable_stock?i("div",[i("v-text-field",{attrs:{type:"number",label:"Alert Quantity"},model:{value:t.editedItem.alert_quantity,callback:function(e){t.$set(t.editedItem,"alert_quantity",e)},expression:"editedItem.alert_quantity"}}),t._v(" "),-1===t.editedIndex?i("v-text-field",{attrs:{type:"number",label:"Quantity on Hand"},model:{value:t.editedItem.qty_on_hand,callback:function(e){t.$set(t.editedItem,"qty_on_hand",e)},expression:"editedItem.qty_on_hand"}}):t._e(),t._v(" "),-1===t.editedIndex?i("v-text-field",{attrs:{type:"number",label:"Purchase Price"},model:{value:t.editedItem.purchase_price,callback:function(e){t.$set(t.editedItem,"purchase_price",e)},expression:"editedItem.purchase_price"}}):t._e()],1):t._e(),t._v(" "),i("v-checkbox",{attrs:{label:"Active"},model:{value:t.editedItem.is_active,callback:function(e){t.$set(t.editedItem,"is_active",e)},expression:"editedItem.is_active"}})],1)],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"primary",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{color:"primary",type:"submit",disabled:!t.valid},on:{click:function(e){return e.preventDefault(),t.save(e)}}},[t._v("Save")])],1)],1)],1)],1)],1),t._v(" "),i("v-text-field",{staticClass:"mx-4",attrs:{"append-icon":"mdi-search",label:"Search","single-line":"","hide-details":""},on:{input:t.searchIt}})]},proxy:!0},{key:"item.action",fn:function(e){var a=e.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),i("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v("\n        mdi-delete\n      ")])]}},{key:"no-data",fn:function(){return[i("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0},{key:"item.is_active",fn:function(e){var a=e.item;return[i("v-edit-dialog",{attrs:{large:"",block:"",persistent:"","return-value":a.is_active},on:{"update:returnValue":function(e){return t.$set(a,"is_active",e)},"update:return-value":function(e){return t.$set(a,"is_active",e)},save:function(e){return t.updateStatus(a)}},scopedSlots:t._u([{key:"input",fn:function(){return[i("v-select",{attrs:{items:t.status,"item-text":t.status.text,"item-value":t.status.value,label:"Select Status"},model:{value:a.is_active,callback:function(e){t.$set(a,"is_active",e)},expression:"item.is_active"}})]},proxy:!0}],null,!0)},[i("v-chip",{attrs:{color:t.getColor(a.is_active),dark:""}},[1==a.is_active?i("span",[t._v("Active")]):i("span",[t._v("In Active")])])],1)]}}])}),t._v(" "),i("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.text)+"\n      "),i("v-btn",{attrs:{color:"white",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n          Close\n      ")])],1)],1)}),[],!1,null,null,null);e.default=V.exports;o()(V,{VBtn:r.a,VCard:c.a,VCardActions:l.a,VCardText:l.b,VCardTitle:l.c,VCheckbox:d.a,VChip:u.a,VCol:v.a,VContainer:p.a,VDataTable:m.a,VDialog:h.a,VDivider:_.a,VEditDialog:g.a,VForm:f.a,VIcon:b.a,VRow:x.a,VSelect:k.a,VSnackbar:y.a,VSpacer:I.a,VTextField:w.a,VToolbar:C.a,VToolbarTitle:$.a})}}]);